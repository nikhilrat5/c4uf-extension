using cds.foundation.sap.language as languageService from './my-service.cds';

annotate languageService.Service.Languages with @(
	Capabilities.InsertRestrictions.Insertable : true,
	Capabilities.DeleteRestrictions.Deletable : true,
	Capabilities.UpdateRestrictions.Updatable : true,
	Capabilities.SearchRestrictions.Searchable : false,

	UI.HeaderInfo: {
		TypeName: '{i18n>Language}',
		TypeNamePlural:'{i18n>Languages}',
		Title: {
		Value: LanguageTwoLetterISOCode
		},
	},
	 UI.HeaderFacets: [
		{$Type:'UI.ReferenceFacet', Target: '@UI.FieldGroup#LanguageHeader' }
	],
	
	UI.FieldGroup#LanguageHeader: {
		Data: [
			{$Type: 'UI.DataField', Value: localised.LanguageName}
		]
},
	Capabilities.FilterRestrictions.NonFilterableProperties: [
        BusConfignVersion
    ],
   UI.FilterFacets:[
         	{$Type:'UI.ReferenceFacet',Label:'{i18n>AdditionalFilters}', Target: '@UI.FieldGroup#filter' }
        ],
        UI.FieldGroup#filter: {
		Data: [
		    {$Type: 'UI.DataField', Value: localised.LanguageTwoLetterISOCode},
		    {$Type: 'UI.DataField', Value: localised.LanguageTextLanguageCode}
		]
    	},
	UI.FieldGroup#ConfigurationData: {
		Data: [
			{$Type: 'UI.DataField', Value: LanguageTwoLetterISOCode}
		]
	},
	UI.Facets: [
		{$Type:'UI.CollectionFacet', Label: '{i18n>Language}',
			Facets: [
				{$Type:'UI.ReferenceFacet', Target: '@UI.FieldGroup#ConfigurationData'},
			],
		},
	
		{$Type:'UI.ReferenceFacet', ID: 'LanguageText',Label:'{i18n>LanguageTexts}',Target: 'text/@UI.LineItem' }

	],
	UI.SelectionFields: [ 
		LanguageTwoLetterISOCode,
		localised.LanguageName
  	],
	UI.LineItem: [
		{$Type: 'UI.DataField', Value: LanguageTwoLetterISOCode},
		 {$Type: 'UI.DataField', Value: localised.LanguageName}
	])
	{
	LanguageTwoLetterISOCode @(
	               Common.ValueList: {
                                   CollectionPath: 'LanguageValueHelp',
                                    Label: 'LanguageValueHelp',
                                    Parameters: [
                                           { $Type: 'Common.ValueListParameterOut', LocalDataProperty: 'LanguageTwoLetterISOCode', ValueListProperty: 'LanguageTwoLetterISOCode'},
                                            { $Type: 'Common.ValueListParameterDisplayOnly', ValueListProperty: 'LanguageName'},
                              ]}
                              ,	Common.FieldControl: #ReadOnly);
			      BusConfignVersion @(
                              Common.FieldControl: #Hidden
                              );
                              };
	annotate languageService.Service.LanguageTexts with @(
		LanguageTwoLetterISOCode,
	Common.Label: '{i18n>LanguageTwoLetterISOCode}',
	Common.FieldControl: #ReadOnly);
	
	annotate languageService.Service.LanguageTexts with @(
	Capabilities.InsertRestrictions.Insertable : true,
	Capabilities.DeleteRestrictions.Deletable : true,
	Capabilities.UpdateRestrictions.Updatable : true,
	Capabilities.SearchRestrictions.Searchable : false,
	
	UI.HeaderInfo: {
	        TypeName: '{i18n>LanguageText}',
	        TypeNamePlural:'{i18n>Items}',
		Title: {Value: LanguageTextLanguageCode}
	},
	
	UI.FieldGroup#LanguageText: {
		Data: [
			{$Type: 'UI.DataField', Value: LanguageTextLanguageCode},
			{$Type: 'UI.DataField',Value: LanguageName}
		]
	},	

	UI.Facets:[
		{$Type:'UI.CollectionFacet', Label: '{i18n>LanguageText}',
		Facets:[
			{$Type:'UI.ReferenceFacet', Target: '@UI.FieldGroup#LanguageText'},
			],
	},
	],
	UI.SelectionFields: [ 
		LanguageTwoLetterISOCode,
		LanguageTextLanguageCode,
		LanguageName
  	],
  	
	UI.LineItem: [
			{$Type: 'UI.DataField', Value:LanguageTwoLetterISOCode},
			{$Type: 'UI.DataField', Value: LanguageTextLanguageCode},
			{$Type: 'UI.DataField',Value: LanguageName}
	])	{
	LanguageTwoLetterISOCode @(
	            Common.FieldControl: #ReadOnly);
                              
                              
	LanguageTextLanguageCode @(
	Common.ValueList: {CollectionPath: 'LanguageValueHelp',
                            Label: 'LanguageTextValueHelp',
                            Parameters: [{ $Type: 'Common.ValueListParameterOut', LocalDataProperty: 'LanguageTextLanguageCode', ValueListProperty: 'LanguageTwoLetterISOCode'},
			    { $Type: 'Common.ValueListParameterDisplayOnly', ValueListProperty: 'LanguageName'},
]},
	Common.Label: '{i18n>LanguageCode}',
	            Common.FieldControl: #ReadOnly);
		    BusConfignVersion @(
                              Common.FieldControl: #Hidden
                              );
                              };
      
