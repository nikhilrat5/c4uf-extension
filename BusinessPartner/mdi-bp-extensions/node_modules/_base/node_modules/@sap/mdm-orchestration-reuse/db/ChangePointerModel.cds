namespace mdo;

entity ChangePointer {
		key Id 							: UUID;
		DistributionModel				: UUID;
		BusinessObjectType				: String(10);
		Source							: String(256) default '';
		ObjectInstanceKey				: String(256);
		SendMainInstance				: Boolean default false;
		SendMainInstanceOnly			: Boolean default false;
		Destination						: String(256);
		InProcess						: Boolean default false;
		ExecutionTime					: Timestamp;
		DistributionRunId				: String(256);
		API								: String(256)  default '';
		CreatedByUser					: String(128)
			@odata.on.insert:#user 
        	@Common.FieldControl: #ReadOnly
        	@Core.Computed: true;
		ModifiedAt						: Timestamp
			@odata.on.insert: #now
			@odata.on.update: #now
        	@Common.FieldControl: #ReadOnly
        	@Core.Computed: true;
        To_DependentObjectChangePointer	: Composition of many DependentObjectChangePointer on To_DependentObjectChangePointer.To_Parent = $self;
}

entity DependentObjectChangePointer {
		key Id 						: UUID;
		DependentBusinessObjectType	: String(10);
		DependentObjectInstanceKey 	: String(256);
		DependentObjectAPI			: String(256) default '';
		To_Parent					: Association to ChangePointer;
}