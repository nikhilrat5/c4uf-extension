using mdo.manageDistributions from '../srv/manageDistributions';

annotate manageDistributions.Descriptions with @(
	Common.SemanticKey: [LanguageCode],
	Common.SideEffects#onModifiedDescription: {
		EffectTypes: #ValueChange,
		SourceProperties: ['Description', 'LanguageCode'],
		TargetEntities: ['To_Parent/To_LocalizedDescription']
	},
	/*UI.HiddenFilter: Id,*/
	
	UI: {
		LineItem: [ 
			{$Type: 'UI.DataField', Value: LanguageCode, ![@UI.Importance]: #Medium, Label: '{i18n>desc_lang}' },
			{$Type: 'UI.DataField', Value: Description, ![@UI.Importance]: #High, Label: '{i18n>desc_title}' }
		],
		
		HeaderInfo: {
			TypeName: '{i18n>desc_title}',
			TypeNamePlural: '{i18n>descs_title}'
		},

		HeaderFacets: [
			{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#generalInformation', Label: '{i18n>generalInfo}'},
			{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#scheduleInformation', Label: '{i18n>scheduleInfo}'},
			{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#admin', Label: '{i18n>admin}'}
		],

		Facets: [{
			ID: 'desc',
			Label: '{i18n>desc_title}',
			$Type: 'UI.CollectionFacet',
			Facets: [
				{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#text'}
			]
		}],
			
		FieldGroup#text: {
			Label: '{i18n>desc_text}',
			Data: [ 
				{$Type: 'UI.DataField', Value: LanguageCode },
				{$Type: 'UI.DataField', Value: Description, Label:'{i18n>desc_text}'}
			]
		},
		
		FieldGroup#generalInformation: {
			Data: [
				{$Type: 'UI.DataField', Value: To_Parent.BusinessObjectType_objectTypeCode, Label: '{i18n>objectTypeCode}'},
				{$Type: 'UI.DataField', Value: To_Parent.IsActive, Label: '{i18n>isActive}'},
				{$Type: 'UI.DataField', Value: To_Parent.ProviderApplicationAPI, Label: '{i18n>api}'}
			]
		},
		
		FieldGroup#scheduleInformation: {
			Data: [

			]
		},

		FieldGroup#admin: {
			Data: [
				{$Type: 'UI.DataField', Value: To_Parent.CreatedByUser, Label: '{i18n>createdby}'},
				{$Type: 'UI.DataField', Value: To_Parent.CreationDate, Label: '{i18n>createdon}'},
				{$Type: 'UI.DataField', Value: To_Parent.LastChangedByUser, Label: '{i18n>changedby}'},
				{$Type: 'UI.DataField', Value: To_Parent.LastChangeDate, Label: '{i18n>changedon}'}
			]
		}
	}
){
	To_Language @(
		Common.ValueListWithFixedValues: true,
		sap.value.list: 'fixed-values',
		Common.Label: '{i18n>desc_lang}',
		Common.Text: {$value: To_Language.description, ![@UI.TextArrangement]: #TextFirst},
		Common.FieldControl: #ReadOnly,
	 	Common.ValueList: {
		 	CollectionPath: 'Languages',
		 	Parameters: [
		 		{ $Type: 'Common.ValueListParameterInOut', LocalDataProperty: 'LanguageCode', ValueListProperty: 'LanguageTwoLetterISOCode'},
	 		]
	 	}
	 );

	LanguageCode @(
		Common.ValueListWithFixedValues: true,
		sap.value.list: 'fixed-values',
		Common.Label: '{i18n>desc_lang}',
		Common.Text:  {$value: To_Language.description, ![@UI.TextArrangement]: #TextFirst},
	 	Common.ValueList: {
		 	CollectionPath: 'Languages',
		 	Parameters: [
		 		{ $Type: 'Common.ValueListParameterInOut', LocalDataProperty: 'LanguageCode', ValueListProperty: 'LanguageTwoLetterISOCode'},
	 		]
	 	}
	 );
	
	Description @(
		UI.MultiLineText
	);
};
