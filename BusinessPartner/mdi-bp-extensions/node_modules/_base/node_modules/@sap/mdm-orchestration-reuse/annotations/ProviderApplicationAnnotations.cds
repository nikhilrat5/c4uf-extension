using mdo.manageDistributions from '../srv/manageDistributions';

annotate manageDistributions.ProviderApplicationDestinations with {
	Destination @(
		Common.Label: '{i18n>destination}',
		Common.ValueListWithFixedValues: true,
		Common.ValueList: {
			CollectionPath: 'ProviderDestinations',
		 	Parameters: [
				{$Type: 'Common.ValueListParameterInOut', LocalDataProperty: 'Destination', ValueListProperty: 'Name'},
				{$Type: 'Common.ValueListParameterDisplayOnly', ValueListProperty: 'Description'}
			]
		}
	);
};

annotate manageDistributions.ProviderDestinations with {
	Name @Common.Label: '{i18n>destinationNameLabel}';
	Description @(
		Common.Label: '{i18n>destinationDescriptionLabel}',
		UI.HiddenFilter
	);
	ModelId @UI.HiddenFilter;
	IsActiveEntity @UI.HiddenFilter;
	BusinessSystem @UI.HiddenFilter;
}

annotate manageDistributions.ProviderApplicationDestinations with @(
	Common.SemanticKey: [Destination],
	UI.HiddenFilter: Id,

	UI: {
		LineItem: [ 
			{$Type: 'UI.DataField', Value: Destination, ![@UI.Importance]: #High}
		],

		HeaderInfo: {
			TypeName: '{i18n>providerAppId}',
			TypeNamePlural: '{i18n>providerAppIdPlural}',
			Title: {Value: Destination}
		},

		HeaderFacets: [
			{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#generalInformation', Label: '{i18n>generalInfo}'},
			{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#scheduleInformation', Label: '{i18n>scheduleInfo}'},
			{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#admin', Label: '{i18n>admin}'}
		],

		PresentationVariant: {
			RequestAtLeast: ['To_Parent']
		},

		Facets: [{
			ID: 'providerAppId',
			Label: '{i18n>providerAppId}',
			$Type: 'UI.CollectionFacet',
				Facets: [
					{$Type: 'UI.ReferenceFacet', Target: '@UI.FieldGroup#generalInfo'}
				]
			}],

		FieldGroup#generalInfo: {
			Label: '{i18n>generalInfo}',
			Data: [
				{$Type: 'UI.DataField', Value: Destination}
			]
		},

		FieldGroup#generalInformation: {			
			Data: [
				{$Type: 'UI.DataField', Value: To_Parent.BusinessObjectType_objectTypeCode, Label: '{i18n>objectTypeCode}'},
				{$Type: 'UI.DataField', Value: To_Parent.IsActive, Label: '{i18n>isActive}'},
				{$Type: 'UI.DataField', Value: To_Parent.ProviderApplicationAPI, Label: '{i18n>api}'}
			]
		},
		
		FieldGroup#scheduleInformation: {
			Data: [

			]
		},

		FieldGroup#admin: {
			Data: [
				{$Type: 'UI.DataField', Value: To_Parent.CreatedByUser, Label: '{i18n>createdby}'},
				{$Type: 'UI.DataField', Value: To_Parent.CreationDate, Label: '{i18n>createdon}'},
				{$Type: 'UI.DataField', Value: To_Parent.LastChangedByUser, Label: '{i18n>changedby}'},
				{$Type: 'UI.DataField', Value: To_Parent.LastChangeDate, Label: '{i18n>changedon}'}
			]
		}
	}
);
