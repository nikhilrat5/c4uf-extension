namespace cds.foundation.sap.businessobjecttype;

using cds.foundation.sap.busconfign.BusinessConfiguration as BusinessConfiguration from '@sap/BusinessConfigurationModel';

	@BusConfign.Entity
	entity ObjectType : BusinessConfiguration {
		key objectTypeCode			: String(10);		
		businessObject				: String(30);
		isProjection				: Boolean;
		mainObject					: String(10);
		description					: Composition of many ObjectTypeText on description.objectTypeCode = objectTypeCode and description.BusConfignVersion = BusConfignVersion;
		localizedDescription		: Association[1] to ObjectTypeText on localizedDescription.objectTypeCode = objectTypeCode and localizedDescription.BusConfignVersion = BusConfignVersion and localizedDescription.language = SUBSTRING(SESSION_CONTEXT('LOCALE'),1,2);											
		To_Projections				: Association to many ObjectType on To_Projections.BusConfignVersion = $self.BusConfignVersion and 
										To_Projections.mainObject = $self.objectTypeCode and To_Projections.isProjection = true;
		To_AssociatedObjectTypes	: Association to many ObjectType on To_AssociatedObjectTypes.BusConfignVersion = $self.BusConfignVersion and 
										( To_AssociatedObjectTypes.mainObject = $self.objectTypeCode or To_AssociatedObjectTypes.objectTypeCode = $self.objectTypeCode );
	};

	@BusConfign.Entity
	entity ObjectTypeText : BusinessConfiguration {
		key objectTypeCode	: String(10);
		key language		: String(2);
		description			: String(80);
	};
	
	
	
	
	