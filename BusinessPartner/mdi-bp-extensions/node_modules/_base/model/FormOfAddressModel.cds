namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using com.sap.mdm.bp.GenericModel as GenericModel from './GenericModel';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context FormOfAddressModel {
    @BusConfign.Entity
    entity FormOfAddress : BusConfigurationEntity {
        key title                           : CommonTypes.FormOfAddressKey;
            isPerson                        : Boolean default false;
            isOrganization                  : Boolean default false;
            isGroup                         : Boolean default false;
            sex                             : String(1);
            to_FormOfAddressText            : Association to many FormOfAddressText
                                                  on to_FormOfAddressText.title = title;
            to_FormOfAddressTextDescription : Association to one FormOfAddressText
                                                  on  to_FormOfAddressTextDescription.title        = title
                                                  and to_FormOfAddressTextDescription.languageCode = SESSION_CONTEXT(
                                                      'LOCALE'
                                                  );
            //and to_FormOfAddressTextDescription.languageCode = 'en';
            to_GenderCode                   : Association to one GenericModel.GenericDomainCodeList
                                                  on  to_GenderCode.domainName = 'GENDER'
                                                  and to_GenderCode.codeValue  = sex;
    }

    @BusConfign.Entity
    entity FormOfAddressText : BusConfigurationEntity {
        key title        : CommonTypes.FormOfAddressKey;
        key languageCode : LanguageTwoLetterISOCode;
            description  : String(30);
    }
};
