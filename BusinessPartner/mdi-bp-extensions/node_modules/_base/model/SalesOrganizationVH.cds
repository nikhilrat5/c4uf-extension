namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context BusinessPartnerSalesOrganizationVH {
    // extends abstract entity CodeList
    @BusConfign.Entity
    entity SalesOrganization : BusConfigurationEntity {
            @Common.Label : '{bi18n>SalesOrganization}'
        key salesOrgCode               : String(4);
            to_SalesOrgText            : Association to many SalesOrganizationText
                                             on to_SalesOrgText.salesOrgCode = salesOrgCode;
            to_SalesOrgTextDescription : Association to one SalesOrganizationText
                                             on  to_SalesOrgTextDescription.salesOrgCode = salesOrgCode
                                             and to_SalesOrgTextDescription.languageCode = SESSION_CONTEXT(
                                                 'LOCALE'
                                             );

    }

    @BusConfign.Entity
    entity SalesOrganizationText : BusConfigurationEntity {
            @Common.Label : '{bi18n>SalesOrganization}'
        key salesOrgCode        : String(4);
        key languageCode        : LanguageTwoLetterISOCode;
            @Common.Label : '{bi18n>Description}'
            salesOrgDescription : String(20);

    }
}
