namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using com.sap.mdm.bp.CountryTypes as CountryTypes from './CountryTypes';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context RegionModel {
  entity Region {
    key countryKey               : CountryTypes.Country3;
    key region                   : CountryTypes.Country3;
        to_RegionText            : Association to many RegionText
                                     on  to_RegionText.countryKey = countryKey
                                     and to_RegionText.region     = region;

        to_RegionTextDescription : Association to one RegionText
                                     on  to_RegionTextDescription.countryKey   = countryKey
                                     and to_RegionTextDescription.region       = region
                                     and to_RegionTextDescription.languageCode = SESSION_CONTEXT(
                                       'LOCALE'
                                     );
  }

  entity RegionText {
    key countryKey   : CountryTypes.Country3;
    key region       : CountryTypes.Country3;
    key languageCode : LanguageTwoLetterISOCode;
        description  : String(20);
  }
};
