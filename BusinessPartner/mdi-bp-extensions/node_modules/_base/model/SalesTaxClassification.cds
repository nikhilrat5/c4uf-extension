namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';
using com.sap.mdm.bp.CountryTypes as CountryTypes from './CountryTypes';

context SalesTaxClassificationVH {
    // extends abstract entity CodeList
    @BusConfign.Entity
    entity SalesTaxClassification : BusConfigurationEntity {
        key salesTaxCategoryCode                 : String(4);
        key salesTaxClassificationCode           : String(1);
            to_SalesTaxClassificationText        : Association to many SalesTaxClassificationText
                                                       on  to_SalesTaxClassificationText.salesTaxClassificationCode = salesTaxClassificationCode
                                                       and to_SalesTaxClassificationText.salesTaxCategoryCode       = salesTaxCategoryCode;
            to_SalesTaxClassificationDescription : Association to one SalesTaxClassificationText
                                                       on  to_SalesTaxClassificationDescription.salesTaxClassificationCode = salesTaxClassificationCode
                                                       and to_SalesTaxClassificationDescription.salesTaxCategoryCode       = salesTaxCategoryCode
                                                       and to_SalesTaxClassificationDescription.languageCode               = SESSION_CONTEXT(
                                                           'LOCALE'
                                                       );

    }

    @BusConfign.Entity
    entity SalesTaxClassificationText : BusConfigurationEntity {
        key salesTaxClassificationCode        : String(1);
        key salesTaxCategoryCode              : String(4);
        key languageCode                      : LanguageTwoLetterISOCode;
            @Common.Label : '{bi18n>Description}'
            salesTaxClassificationDescription : String(20);

    }
}
