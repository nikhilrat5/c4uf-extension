namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context DeliveryBlockModel {
  @BusConfign.Entity
  entity DeliveryBlock : BusConfigurationEntity {
    key deliveryBlockCode               : CommonTypes.DeliveryBlockCode;

        to_DeliveryBlockTextDescription : Association to one DeliveryBlockText
                                            on  to_DeliveryBlockTextDescription.deliveryBlockCode = deliveryBlockCode
                                            and to_DeliveryBlockTextDescription.languageCode      = SESSION_CONTEXT(
                                              'LOCALE'
                                            );

        to_DeliveryBlockText            : Association to many DeliveryBlockText
                                            on to_DeliveryBlockText.deliveryBlockCode = deliveryBlockCode;

  }

  @BusConfign.Entity
  entity DeliveryBlockText : BusConfigurationEntity {
    key deliveryBlockCode : CommonTypes.DeliveryBlockCode;
    key languageCode      : LanguageTwoLetterISOCode;
        shortDescription  : String(20);

  }
};
