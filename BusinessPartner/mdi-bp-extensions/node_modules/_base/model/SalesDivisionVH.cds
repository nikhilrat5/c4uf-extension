namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context BusinessPartnerDivisionVH {
    // extends abstract entity CodeList
    @BusConfign.Entity
    entity Division : BusConfigurationEntity {
            @Common.Label : '{bi18n>Division}'
        key divisionCode               : String(2);
            to_DivisionText            : Association to many DivisionText
                                             on to_DivisionText.divisionCode = divisionCode;
            to_DivisionTextDescription : Association to one DivisionText
                                             on  to_DivisionTextDescription.divisionCode = divisionCode
                                             and to_DivisionTextDescription.languageCode = SESSION_CONTEXT(
                                                 'LOCALE'
                                             );

    }

    @BusConfign.Entity
    entity DivisionText : BusConfigurationEntity {
            @Common.Label : '{bi18n>Division}'
        key divisionCode        : String(2);
        key languageCode        : LanguageTwoLetterISOCode;
            @Common.Label : '{bi18n>Description}'
            divisionDescription : String(20);

    }
}
