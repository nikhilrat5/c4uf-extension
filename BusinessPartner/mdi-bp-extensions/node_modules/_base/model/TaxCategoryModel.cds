namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context TaxCategoryModel {
  @BusConfign.Entity
  entity TaxCategory : BusConfigurationEntity {

    key taxNumberCategory             : String(4);

        to_TaxCategoryText            : Association to many TaxCategoryText
                                          on to_TaxCategoryText.taxNumberCategory = taxNumberCategory;

        to_TaxCategoryTextDescription : Association to one TaxCategoryText
                                          on  to_TaxCategoryTextDescription.taxNumberCategory = taxNumberCategory
                                          and to_TaxCategoryTextDescription.languageCode      = SESSION_CONTEXT(
                                            'LOCALE'
                                          );
  //and to_TaxCategoryTextDescription.languageCode = 'en';
  }

  @BusConfign.Entity
  entity TaxCategoryText : BusConfigurationEntity {

    key taxNumberCategory : String(4);
    key languageCode      : LanguageTwoLetterISOCode;
        duplicateCheck    : Integer;
        description       : String(60);
  }
};
