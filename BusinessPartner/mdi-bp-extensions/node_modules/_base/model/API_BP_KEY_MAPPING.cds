using com.sap.mdm.bp.BPKeyMappingModel as BPKeyMappingModel from './BPKeyMappingModel';

service API_BP_KEY_MAPPING {

  @Capabilities : {
    Insertable : false,
    Updatable  : false,
    Deletable  : false
  }
  view BusinessPartnerKeyMapping as
    select from BPKeyMappingModel.BusinessPartnerKeyMapping {
      *,
      to_BusinessPartner.AuthorizationGroup as AuthorizationGroup

    }
    excluding {
      isMarkedForDeletion,
      IsActive,
      CreatedAt
    }
    where
      (
        (
             isMarkedForDeletion != true
          or isMarkedForDeletion is null
        )
        and (
             IsActive != false
          or IsActive is null
        )
        and to_BusinessPartner.IsBusinessPurposeCompleted != true
      );

  @Capabilities : {
    Insertable : false,
    Updatable  : false,
    Deletable  : false
  }
  entity MultipleAssignmentBPKeyMapping as projection on BPKeyMappingModel.MultipleAssignmentBPKeyMapping;

  @Capabilities : {
    Insertable : false,
    Updatable  : false,
    Deletable  : false
  }
  entity BusinessSystem                 as projection on BPKeyMappingModel.BusinessSystem;

  @Capabilities : {
    Insertable : false,
    Updatable  : false,
    Deletable  : false
  }
  entity BPToMultipleAssignmentMapping  as projection on BPKeyMappingModel.BPToMultipleAssignmentMapping;

  @Capabilities : {
    Insertable : false,
    Updatable  : false,
    Deletable  : false
  }
  entity BPToKeyMapping                 as projection on BPKeyMappingModel.BPToKeyMapping;
};
