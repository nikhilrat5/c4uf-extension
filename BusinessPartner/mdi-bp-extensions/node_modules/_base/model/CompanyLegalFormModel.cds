namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context CompanyLegalFormModel {
    @BusConfign.Entity
    entity CompanyLegalForm : BusConfigurationEntity {
        key companyLegalFormCode               : CommonTypes.CompanyLegalFormCode;
            to_CompanyLegalFormText            : Association to many CompanyLegalFormText
                                                     on to_CompanyLegalFormText.companyLegalFormCode = companyLegalFormCode;
            to_CompanyLegalFormTextDescription : Association to one CompanyLegalFormText
                                                     on  to_CompanyLegalFormTextDescription.companyLegalFormCode = companyLegalFormCode
                                                     and to_CompanyLegalFormTextDescription.languageCode         = SESSION_CONTEXT(
                                                         'LOCALE'
                                                     );
    //and to_CompanyLegalFormTextDescription.languageCode = 'en';
    }

    @BusConfign.Entity
    entity CompanyLegalFormText : BusConfigurationEntity {
        key companyLegalFormCode : CommonTypes.CompanyLegalFormCode;
        key languageCode         : LanguageTwoLetterISOCode;
            shortDescription     : String(15);
            longDescription      : String(40);
    }
};
