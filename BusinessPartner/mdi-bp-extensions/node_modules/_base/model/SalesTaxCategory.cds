namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';
using com.sap.mdm.bp.CountryTypes as CountryTypes from './CountryTypes';

context SalesTaxCategoryVH {
    // extends abstract entity CodeList
    @BusConfign.Entity
    entity SalesTaxCategory : BusConfigurationEntity {
        key salesTaxCategoryCode           : String(4);
        key Country                        : CommonTypes.Country;
            to_SalesTaxCategoryText        : Association to many SalesTaxCategoryText
                                                 on  to_SalesTaxCategoryText.salesTaxCategoryCode = salesTaxCategoryCode
                                                 and to_SalesTaxCategoryText.Country              = Country;
            to_SalesTaxCategoryDescription : Association to one SalesTaxCategoryText
                                                 on  to_SalesTaxCategoryDescription.salesTaxCategoryCode = salesTaxCategoryCode
                                                 and to_SalesTaxCategoryDescription.Country              = Country
                                                 and to_SalesTaxCategoryDescription.languageCode         = SESSION_CONTEXT(
                                                     'LOCALE'
                                                 );

    }

    @BusConfign.Entity
    entity SalesTaxCategoryText : BusConfigurationEntity {
        key Country                         : CommonTypes.Country;
        key salesTaxCategoryCode            : String(4);
        key languageCode                    : LanguageTwoLetterISOCode;
            @Common.Label : '{bi18n>Description}'
            salesTaxCategoryCodeDescription : String(20);

    }
}
