namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context PreferredCommMediumTypeModel {
    @BusConfign.Entity
    entity PreferredCommMediumType : BusConfigurationEntity {
        key communicationType              : CommonTypes.PreferredCommTypeCode;
            isCommTable                    : Boolean;
            isCommTypeInUse                : Boolean;
            isProcurementDoc               : Boolean;
            isGroup                        : Boolean;
            communicationTypeISO           : CommonTypes.PreferredCommTypeCode;
            to_PreferredCommMediumTypeText : Association to many PreferredCommMediumTypeText
                                                 on to_PreferredCommMediumTypeText.communicationType = communicationType;
            //to_PreferredCommMediumTypeTextDescription: Association to one PreferredCommMediumTypeText on to_PreferredCommMediumTypeTextDescription.communicationType = communicationType and to_PreferredCommMediumTypeTextDescription.languageCode = SESSION_CONTEXT('LOCALE');
            to_PrfrdCommMediumTypeTextDesc : Association to one PreferredCommMediumTypeText
                                                 on  to_PrfrdCommMediumTypeTextDesc.communicationType = communicationType
                                                 and to_PrfrdCommMediumTypeTextDesc.languageCode      = 'en';
    }

    @BusConfign.Entity
    entity PreferredCommMediumTypeText : BusConfigurationEntity {
        key communicationType : CommonTypes.PreferredCommTypeCode;
        key languageCode      : LanguageTwoLetterISOCode;
            description       : String(20);
    }
};
