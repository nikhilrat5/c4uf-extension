namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';
using com.sap.mdm.bp.HarmonizedIdProviderVH as HarmonizedIdProviderVH from './HarmonizedIdProviderVH';

context IdentificationTypeModel {
    @BusConfign.Entity
    entity IdentificationType : BusConfigurationEntity {
        key identificationType                   : String(6);
            identificationCategory               : String(6);
            isProposeIdType                      : Boolean;
            isPersonRelevant                     : Boolean;
            isOrgRelevant                        : Boolean;
            isGroupRelevant                      : Boolean;
            to_IdentificationTypeText            : Association to many IdentificationTypeText
                                                       on to_IdentificationTypeText.identificationType = identificationType;
            to_IdentificationTypeTextDescription : Association to one IdentificationTypeText
                                                       on  to_IdentificationTypeTextDescription.identificationType = identificationType
                                                       and to_IdentificationTypeTextDescription.languageCode       = SESSION_CONTEXT(
                                                           'LOCALE'
                                                       );
            idUnique                             : Boolean;
    }

    @BusConfign.Entity
    entity IdentificationTypeText : BusConfigurationEntity {
        key identificationType : String(6);
        key languageCode       : LanguageTwoLetterISOCode;
            description        : String(40);
    }

    @BusConfign.Entity
    entity HarmonizedId : BusConfigurationEntity {
        key harmonizedId              : String(100);
            value                     : Boolean default false;
            harmonizedIdProvider      : String(100);
            to_HarmonizedIdProviderVH : Association to one HarmonizedIdProviderVH.HarmonizedIdProvider
                                            on to_HarmonizedIdProviderVH.harmonizedId = harmonizedId;
    }

};
