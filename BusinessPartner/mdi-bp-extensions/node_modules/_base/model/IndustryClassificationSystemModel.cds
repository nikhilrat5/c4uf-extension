namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context IndustryClassificationSystemModel {
  @BusConfign.Entity
  entity IndustryClassificationSystem : BusConfigurationEntity {
    key industryClassificationSystemCode               : CommonTypes.IndustryClassificationSystemCode;
        isStandardIndustryNumberSystem                 : Boolean;
        to_IndustryClassificationSystemText            : Association to many IndustryClassificationSystemText
                                                           on to_IndustryClassificationSystemText.industryClassificationSystemCode = industryClassificationSystemCode;
        to_IndustryClassificationSystemTextDescription : Association to one IndustryClassificationSystemText
                                                           on  to_IndustryClassificationSystemTextDescription.industryClassificationSystemCode = industryClassificationSystemCode
                                                           and to_IndustryClassificationSystemTextDescription.languageCode                     = SESSION_CONTEXT(
                                                             'LOCALE'
                                                           );
  //and to_IndustryClassificationSystemTextDescription.languageCode = 'en';
  }

  @BusConfign.Entity
  entity IndustryClassificationSystemText : BusConfigurationEntity {
    key industryClassificationSystemCode : CommonTypes.IndustryClassificationSystemCode;
    key languageCode                     : LanguageTwoLetterISOCode;
        description                      : String(30);
  }
};
