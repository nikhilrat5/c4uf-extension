namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context CustomerGroupModel {
  @BusConfign.Entity
  entity CustomerGroup : BusConfigurationEntity {
    key customerGroupCode                : CommonTypes.CustomerGroupCode;
        materialAcquisitionAuthorization : String(1);

        to_CustomerGroupText             : Association to many CustomerGroupText
                                             on to_CustomerGroupText.customerGroupCode = customerGroupCode;

        to_CustomerGroupTextDescription  : Association to one CustomerGroupText
                                             on  to_CustomerGroupTextDescription.customerGroupCode = customerGroupCode
                                             and to_CustomerGroupTextDescription.languageCode      = SESSION_CONTEXT(
                                               'LOCALE'
                                             );

  }

  @BusConfign.Entity
  entity CustomerGroupText : BusConfigurationEntity {
    key customerGroupCode : CommonTypes.CustomerGroupCode;
    key languageCode      : LanguageTwoLetterISOCode;
        shortDescription  : String(20);

  }
};
