namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context IndustrySectorModel {
  @BusConfign.Entity
  entity IndustrySector : BusConfigurationEntity {
    key industryClassificationSystemCode : CommonTypes.IndustryClassificationSystemCode;
    key industrySectorCode               : CommonTypes.IndustrySectorCode;
        to_IndustrySectorText            : Association to many IndustrySectorText
                                             on  to_IndustrySectorText.industryClassificationSystemCode = industryClassificationSystemCode
                                             and to_IndustrySectorText.industrySectorCode               = industrySectorCode;

        to_IndustrySectorTextDescription : Association to one IndustrySectorText
                                             on  to_IndustrySectorTextDescription.industryClassificationSystemCode = industryClassificationSystemCode
                                             and to_IndustrySectorTextDescription.industrySectorCode               = industrySectorCode
                                             and to_IndustrySectorTextDescription.languageCode                     = SESSION_CONTEXT(
                                               'LOCALE'
                                             );
  //and to_IndustrySectorTextDescription.languageCode = 'en';
  }

  @BusConfign.Entity
  entity IndustrySectorText : BusConfigurationEntity {
    key industryClassificationSystemCode : CommonTypes.IndustryClassificationSystemCode;
    key industrySectorCode               : CommonTypes.IndustrySectorCode;
    key languageCode                     : LanguageTwoLetterISOCode;
        shortDescription                 : String(20);
        longDescription                  : String(100);
  }
};
