namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context CustomerClassificationModel {
  @BusConfign.Entity
  entity CustomerClassification : BusConfigurationEntity {
    key customerClassificationCode               : CommonTypes.CustomerClassificationCode;
        to_CustomerClassificationText            : Association to many CustomerClassificationText
                                                     on to_CustomerClassificationText.customerClassificationCode = customerClassificationCode;
        to_CustomerClassificationTextDescription : Association to one CustomerClassificationText
                                                     on  to_CustomerClassificationTextDescription.customerClassificationCode = customerClassificationCode
                                                     and to_CustomerClassificationTextDescription.languageCode               = SESSION_CONTEXT(
                                                       'LOCALE'
                                                     );

  }

  @BusConfign.Entity
  entity CustomerClassificationText : BusConfigurationEntity {
    key customerClassificationCode : CommonTypes.CustomerClassificationCode;
    key languageCode               : LanguageTwoLetterISOCode;
        shortDescription           : String(20);

  }
};
