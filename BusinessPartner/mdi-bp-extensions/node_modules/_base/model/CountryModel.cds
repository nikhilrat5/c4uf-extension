namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using com.sap.mdm.bp.CountryTypes as CountryTypes from './CountryTypes';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context CountryModel {
    // extends abstract entity CodeList
    entity Country {
        key code                      : CountryTypes.Country;
            code3                     : CountryTypes.Country3;
            number                    : CountryTypes.CountryNumber;
            to_CountryText            : Association to many CountryText
                                            on to_CountryText.code = code;
            to_CountryTextDescription : Association to one CountryText
                                            on  to_CountryTextDescription.code         = code
                                            and to_CountryTextDescription.languageCode = SESSION_CONTEXT(
                                                'LOCALE'
                                            );
    }

    entity CountryText {
        key code                   : CountryTypes.Country;
        key languageCode           : LanguageTwoLetterISOCode;
            countryName            : localized String(15);
            nationality            : localized String(15);
            countryNameDescription : localized String(50);
            nationalityDescription : localized String(50);
    }
}
