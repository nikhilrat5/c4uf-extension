namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';

context RoleModel {
  @BusConfign.Entity
  entity Role : BusConfigurationEntity {

    key roleCode               : CommonTypes.BusinessPartnerRole;

        to_RoleText            : Association to many RoleText
                                   on to_RoleText.roleCode = roleCode;
        to_RoleTextDescription : Association to one RoleText
                                   on  to_RoleTextDescription.roleCode     = roleCode
                                   and to_RoleTextDescription.languageCode = SESSION_CONTEXT(
                                     'LOCALE'
                                   );
  //and to_RoleTextDescription.languageCode = 'en';
  }

  @BusConfign.Entity
  entity RoleText : BusConfigurationEntity {

    key roleCode     : CommonTypes.BusinessPartnerRole;
    key languageCode : LanguageTwoLetterISOCode;
        roleTitle    : String(25);
        description  : String(50);
  }
};
