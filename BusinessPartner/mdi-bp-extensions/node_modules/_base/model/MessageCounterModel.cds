namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';

//The name MessageCounterModel to be renamed in future

context MessageCounterModel {
    entity MessageSequence {
        key messageID            : String(120); //businessSystem+msgtype+objectid // objectid = {bpuuid or bbpuid+bpreluuid+relcode} use seperator as _ //may need to check using hash code.. using multiple key or single concatenated key.. need to check which is efficient
            ordinalNumber        : Integer64; //Same as HANA Bigint. -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807. Not same as NUMC20 in S4H but should be enough
            BusinessPartnerRelId : String(50);

    }

    entity ChangePointer {
        key Id                 : UUID;
        key Type               : String(1); // B for Business Partner , R for Relationship
            LastChangeDateTime : Timestamp;
            TenantHost         : String(120);
            PickedUUID         : UUID;
            SourceSystem       : String(100);
    }

    entity TemporaryRelationship {
        key Id                                    : UUID;
            FirstBusinessPartner_Id               : UUID;
            FirstBusinessPartner                  : String(10);
            SecondBusinessPartner_Id              : UUID;
            SecondBusinessPartner                 : String(10);
            Payload                               : LargeBinary;
            RoleCode                              : String(6);
            CreateDateTime                        : Timestamp;
            BusinessPartnerIAMID                  : String(300);
            RelationshipBusinessPartnerIAMID      : String(300);
            BusinessPartnerExternalID             : String(100);
            RelationshipBusinessPartnerExternalID : String(100);
    }

    entity OutboundMessageRegistry {
        key BusinessPartnerId   : UUID;
        key SoapMessageId       : UUID;
            ChangeOrdinalNumber : Integer64;
            IsActive            : Boolean;
            CreationDate        : Timestamp
    }
};
