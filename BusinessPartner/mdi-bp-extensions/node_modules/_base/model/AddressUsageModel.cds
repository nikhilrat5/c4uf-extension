namespace com.sap.mdm.bp;

using com.sap.mdm.bp.CommonTypes as CommonTypes from './CommonTypes';
using cds.foundation.sap.busconfign.BusinessConfiguration as BusConfigurationEntity from '@sap/BusinessConfigurationModel';
using cds.foundation.sap.language.LanguageTwoLetterISOCode from '@sap/reusemodel-language/db/types';
using cds.foundation.sap.language.LanguageName from '@sap/reusemodel-language/db/types';

context AddressUsageModel {
    @BusConfign.Entity
    entity AddressUsage : BusConfigurationEntity {
        key addressUsageCode               : CommonTypes.AddressUsageCode;
            isMultipleAddressUsage         : Boolean default false;
            to_AddressUsageText            : Association[ * ] to AddressUsageText
                                                 on to_AddressUsageText.addressUsageCode = addressUsageCode;
            to_AddressUsageTextDescription : Association to one AddressUsageText
                                                 on  to_AddressUsageTextDescription.addressUsageCode = addressUsageCode
                                                 and to_AddressUsageTextDescription.languageCode     = SESSION_CONTEXT(
                                                     'LOCALE'
                                                 );

    }

    @BusConfign.Entity
    entity AddressUsageText : BusConfigurationEntity {
        key addressUsageCode : CommonTypes.AddressUsageCode;
        key languageCode     : LanguageTwoLetterISOCode;
            shortDescription : String(15);
            longDescription  : LanguageName;
    }
};
